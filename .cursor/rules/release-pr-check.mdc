---
description:
globs:
alwaysApply: false
---
# Release PR Check Rule

## ğŸš€ Release PR Creation and Verification Guide

### ğŸ“‹ Rule Overview
Before creating any PR, you must always check if a `develop â†’ main` release PR exists, and if not, automatically create one.

### âš¡ Required Verification Process

#### 1ï¸âƒ£ Check for Release PR Before Creating Any PR
For all PR creation requests, follow this sequence:

```bash
# 1. Check current open PR list
mcp_GitHub_list_pull_requests(
  owner: "easylogic",
  repo: "cssma", 
  state: "open",
  base: "main"
)

# 2. Check if develop â†’ main PR exists
# - Check if PR with head: "develop" exists
# - If not, proceed to next step
```

#### 2ï¸âƒ£ Auto-create Release PR
If no `develop â†’ main` PR exists, create immediately:

```bash
# Create develop â†’ main release PR
mcp_GitHub_create_pull_request(
  owner: "easylogic",
  repo: "cssma",
  title: "Release: [Current Features]",
  head: "develop", 
  base: "main",
  body: "[Release content template]"
)
```

### ğŸ“ Release PR Template

```markdown
## ğŸš€ Release Summary
[Release summary description]

## ğŸ¯ New Features
[New features list]

## ğŸ› Bug Fixes  
[Bug fixes list]

## ğŸ”§ API Improvements
[API improvements list]

## ğŸ“¦ Technical Implementation
[Technical implementation details]

## ğŸ§ª Quality Assurance
- âœ… Test Coverage: [Test coverage details]
- âœ… Performance: [Performance requirements]
- âœ… Type Safety: [Type safety implementation]
- âœ… Integration: [Integration testing]
- âœ… Backward Compatibility: [Compatibility status]

## ğŸ“ˆ Impact
[Impact and improvements]

## ğŸ”„ Version Impact
- **Type**: [patch/minor/major]
- **Packages Updated**: [Updated packages]
- **Migration**: [Migration requirements]

## âœ… Ready for Production
[Production readiness checklist]
```

### ğŸ”„ Automation Commands

#### Pre-PR Creation Check Workflow
```bash
# 1. Check current status
git status
git branch

# 2. Switch to develop branch and update
git checkout develop
git pull origin develop

# 3. Check GitHub PR status (using MCP)
mcp_GitHub_list_pull_requests(state: "open", base: "main")

# 4. Create release PR if none exists
mcp_GitHub_create_pull_request(head: "develop", base: "main")

# 5. Return to original working branch
git checkout [original-branch]
```

### ğŸš¨ Critical Rules

#### Absolute Rules
- **No Code Modifications**: This task only performs GitHub operations, no code changes
- **Use MCP Tools Only**: Only use `mcp_GitHub_*` functions
- **Auto-generation**: Always create release PR if none exists
- **Order Compliance**: Release PR check/creation â†’ Feature PR creation

#### Exception Cases
- **Hot Fix**: `hotfix/*` branches can PR directly to main
- **Docs Only**: Documentation-only changes may be exempted

### ğŸ› ï¸ Implementation Checklist

When user requests PR creation:

- [ ] Use `mcp_GitHub_list_pull_requests` to check current open PRs
- [ ] Check if `head: "develop", base: "main"` PR exists
- [ ] If not, use `mcp_GitHub_create_pull_request` to create release PR
- [ ] After release PR creation, proceed with original feature PR creation
- [ ] Clearly explain all processes to the user

### ğŸ“‹ Usage Example

**User Request**: "Create a new feature PR"

**AI Response Sequence**:
1. "First, I'll check the release PR status."
2. Execute `mcp_GitHub_list_pull_requests`
3. If no release PR: "I'll create a release PR first."
4. Execute `mcp_GitHub_create_pull_request`
5. "Now I'll create the requested feature PR."
6. Proceed with feature PR creation

### ğŸ¯ Objectives
- **Consistent Release Process**: All changes are systematically released
- **Automated Workflow**: Automatic processing without manual verification
- **Clear Release Tracking**: All features included in appropriate release PRs
- **Efficient Deployment**: Always maintain release-ready state
